(this.webpackJsonpmessage_board=this.webpackJsonpmessage_board||[]).push([[0],{19:function(n,e,t){},20:function(n,e,t){},25:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),i=t(10),c=t.n(i),u=(t(19),t(4)),a=t(3),d=(t(20),t(2)),s=t(6),b=t.n(s);function f(){var n=Object(a.a)(["\n  margin-top: 10px;\n  color: red;\n"]);return f=function(){return n},n}function l(){var n=Object(a.a)(["\n  background-color: wheat;\n"]);return l=function(){return n},n}function h(){var n=Object(a.a)(["\n  padding: 5px;\n  border-top: 1px solid ",";\n  word-break: break-all;\n  font-size: ",";\n  color: ",";\n"]);return h=function(){return n},n}function m(){var n=Object(a.a)(["\n  flex: 1;\n  text-align: right;\n  color: ",";\n  font-size: ",";\n"]);return m=function(){return n},n}function j(){var n=Object(a.a)(["\n  color: ",";\n  word-break: break-all;\n  font-size: ",";\n"]);return j=function(){return n},n}function p(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 5px;\n  line-height: 18px;\n"]);return p=function(){return n},n}function g(){var n=Object(a.a)(["\n  margin-top: 20px;\n  padding: 10px;\n  border: 1px solid ",";\n  border-radius: ",";\n  background-color: white;\n"]);return g=function(){return n},n}function x(){var n=Object(a.a)([""]);return x=function(){return n},n}function O(){var n=Object(a.a)(["\n  padding: 5px;\n  width: 100%;\n  text-align: center;\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n\n  &:hover, &:focus {\n    outline: none;\n    box-shadow: 1px 1px 2px 1px gray;\n    cursor: pointer;\n  }\n"]);return O=function(){return n},n}function v(){var n=Object(a.a)(["\n  box-sizing: border-box;\n  margin: 10px 0;\n  padding: 5px;\n  border: 1px solid ",";\n  border-radius: ",";\n  width: 100%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return v=function(){return n},n}function y(){var n=Object(a.a)([""]);return y=function(){return n},n}function k(){var n=Object(a.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: bold;\n"]);return k=function(){return n},n}function S(){var n=Object(a.a)(["\n  width: 600px;\n  margin: 50px auto;\n  padding: 30px;\n  background-color: ",";\n"]);return S=function(){return n},n}var w=d.b.div(S(),(function(n){return n.theme.colors.primaryLight})),D=d.b.div(k(),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.fontSize.large})),z=d.b.form(y()),L=d.b.textarea(v(),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.borderRadius.medium})),C=d.b.button(O(),(function(n){return n.theme.borderRadius.medium}),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.colors.primaryLight})),E=d.b.div(x()),F=d.b.div(g(),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.borderRadius.medium})),T=d.b.div(p()),R=d.b.div(j(),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.fontSize.medium})),_=d.b.div(m(),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.fontSize.small})),J=d.b.div(h(),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.fontSize.medium}),(function(n){return n.theme.colors.primaryDark})),P=d.b.button(l());function A(n){var e=n.author,t=n.time,o=n.children,i=n.handleDelete,c=n.id;return Object(r.jsxs)(F,{children:[Object(r.jsxs)(T,{children:[Object(r.jsx)(R,{children:e}),Object(r.jsx)(_,{children:t})]}),Object(r.jsx)(J,{children:o}),Object(r.jsx)(P,{onClick:function(){return i(c)},children:"\u522a\u9664"})]})}A.propsTypes={author:b.a.string,time:b.a.string,children:b.a.node};var B=d.b.div(f());var I=function(){var n=Object(o.useState)(null),e=Object(u.a)(n,2),t=e[0],i=e[1],c=Object(o.useState)(null),a=Object(u.a)(c,2),d=a[0],s=a[1],b=Object(o.useState)(""),f=Object(u.a)(b,2),l=f[0],h=f[1],m=Object(o.useState)(),j=Object(u.a)(m,2),p=j[0],g=j[1],x=Object(o.useState)(!1),O=Object(u.a)(x,2),v=O[0],y=O[1],k=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){i(n)})).catch((function(n){s(n.message)}))};Object(o.useEffect)((function(){k()}),[]);var S=function(n){fetch("https://student-json-api.lidemy.me/comments/".concat(n),{method:"DELETE"}).then((function(n){return n.json()})).then((function(n){k()})).catch((function(n){return console.log(n)}))};return Object(r.jsxs)(w,{children:[Object(r.jsx)(D,{children:"\u7559\u8a00\u7248"}),Object(r.jsxs)(z,{onSubmit:function(n){n.preventDefault(),v||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hello",body:l})}).then((function(n){return n.json()})).then((function(n){y(!1),0!==n.ok?(k(),h("")):g(n.message)})).catch((function(n){y(!1),g(n.message)})))},children:[Object(r.jsx)(L,{rows:"10",value:l,onChange:function(n){h(n.target.value)},onFocus:function(){g(null)}}),Object(r.jsx)(C,{children:"\u9001\u51fa\u7559\u8a00"}),p&&Object(r.jsx)(B,{children:p})]}),d&&Object(r.jsxs)(B,{children:["Something went wrong. ",d.toString(),"."]}),t&&0===t.length&&Object(r.jsx)(B,{children:"No Message."}),Object(r.jsx)(E,{children:t&&t.map((function(n){return Object(r.jsx)(A,{id:n.id,author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body,handleDelete:S},n.id)}))})]})},N=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,26)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};c.a.render(Object(r.jsx)(d.a,{theme:{colors:{primaryLight:"#d0e6da",primary:"#338d11",primaryDark:"#005238"},fontSize:{large:"24px",medium:"18px",small:"14px"},borderRadius:{medium:"10px"}},children:Object(r.jsx)(I,{})}),document.getElementById("root")),N()}},[[25,1,2]]]);
//# sourceMappingURL=main.a632da4a.chunk.js.map